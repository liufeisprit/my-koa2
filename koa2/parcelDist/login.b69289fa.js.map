{"version":3,"sources":["views/login/index.js"],"names":["FormItem","Form","Item","MovieDetail","create","Component","constructor","props","_toggleLoading","status","setState","loading","handleSetType","type","handleSubmit","e","preventDefault","state","console","log","form","validateFields","err","values","method","url","data","then","res","message","success","history","push","render","getFieldDecorator","textAlign","rules","required","fontSize","width"],"mappings":"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","file":"login.b69289fa.js","sourceRoot":"..\\src","sourcesContent":["import React, { Component } from \"react\";\nimport { request } from \"../../lib\";\nimport { Form, Icon, Input, Button , message} from \"antd\";\n\nconst FormItem = Form.Item\nimport \"./index.sass\";\n@Form.create()\nexport default class MovieDetail extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\ttype:0,\n\t\t};\n\t}\n\t_toggleLoading = (status = false) => {\n\t\tthis.setState({\n\t\t  loading: status\n\t\t})\n\t}\n\thandleSetType=(type)=>{\n\t\tthis.setState({\n\t\t\ttype\n\t\t  })\n\t}\n\thandleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tconst {type}=this.state\n\t\tconsole.log(this.state.type)\n\t\tthis.props.form.validateFields(async (err, values) => {\n\t\t  if (!err) {\n\t\t\trequest(this._toggleLoading)({\n\t\t\t  method: 'post',\n\t\t\t  url: `/admin/${type==0?'login':'register'}`,\n\t\t\t  data: {\n\t\t\t\t...values\n\t\t\t  }\n\t\t\t})\n\t\t\t  .then(res => {\n\t\t\t\tmessage.success(`${type==0?'登录成功':'注册成功'}`,()=>{\n\t\t\t\t\tthis.props.history.push('/admin/list')\n\t\t\t\t})\n\t\t\t  })\n\t\t  }\n\t\t})\n\t}\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form onSubmit={this.handleSubmit} className=\"login-form\">\n\t\t\t\t\t<h3 style={{ textAlign: \"center\" }}>预告片后台</h3>\n\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t{getFieldDecorator(\"email\", {\n\t\t\t\t\t\t\trules: [{ required: true, message: \"Please input your email!\" }]\n\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<Icon type=\"user\" style={{ fontSize: 13 }} />}\n\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FormItem>\n\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t{getFieldDecorator(\"password\", {\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{ required: true, message: \"Please input your password!\" }\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tprefix={<Icon type=\"lock\" style={{ fontSize: 13 }} />}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FormItem>\n\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{width:'100%'}}\n\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t\t\tonClick={()=>this.handleSetType(0)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLog in\n            \t\t\t</Button>\n\t\t\t\t\t\t\n\t\t\t\t\t</FormItem>\n\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{width:'100%'}}\n\t\t\t\t\t\t\ttype='primary'\n\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t\t\tonClick={()=>this.handleSetType(1)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tsign up\n            \t\t\t</Button>\n\t\t\t\t\t</FormItem>\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}